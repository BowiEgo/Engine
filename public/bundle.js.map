{"version":3,"file":"bundle.js","sources":["../src/core/Camera.js","../src/core/Time.js","../src/core/Mouse.js","../src/utils/Common.js","../src/core/Events.js","../src/core/Scene.js","../src/shapes/Line.js","../src/shapes/Arc.js","../src/collision/SAT.js","../src/shapes/Shape.js","../src/shapes/Circle.js","../src/shapes/Curve.js","../src/geometry/Projection.js","../src/geometry/Vector.js","../src/geometry/Vertice.js","../src/utils/Object.js","../src/utils/Array.js","../src/shapes/Polygon.js","../src/shapes/Polyline.js","../src/shapes/Rectangle.js","../src/shapes/Sprite.js","../src/shapes/Text.js","../src/shapes/ShapesGroup.js","../src/core/Object.js","../src/renderer/CanvasShapeRenderer.js","../src/renderer/CanvasRenderer.js","../src/renderer/Renderer.js","../src/core/Engine.js","../src/core/Input.js","../src/utils/Dom.js","../src/widget/Performance.js","../src/main.js"],"sourcesContent":["let Camera = {};\n\nCamera.create = function (game) {\n  let camera = {};\n  camera.position = { x: 0, y: 0 };\n  camera.offset = { x: 0, y: 0 };\n  camera.scale = 1;\n  camera.lookAt = null;\n\n  let isDragging = false;\n  let lastMousePosition = { x: 0, y: 0 };\n\n  // trackTransforms(CanvasRenderer.context);\n\n  game.mouse.on('mousemove', mouse => {\n    if (isDragging) {\n      camera.offset = subPos(mouse.position, lastMousePosition);\n      camera.position = addPos(camera.position, camera.offset);\n      lastMousePosition.x = mouse.position.x;\n      lastMousePosition.y = mouse.position.y;\n      game.renderer.translate(camera.offset);\n    }\n  });\n\n  game.mouse.on('mouseout', mouse => {\n    isDragging = false;\n  });\n\n  game.mouse.on('mousedown', mouse => {\n    isDragging = true;\n    lastMousePosition.x = mouse.mousedownPosition.x;\n    lastMousePosition.y = mouse.mousedownPosition.y;\n  });\n\n  game.mouse.on('mouseup', mouse => {\n    camera.offset = { x: 0, y: 0 };\n    isDragging = false;\n  });\n\n  game.mouse.on('mousewheel', mouse => {\n    camera.scale *= (1 + mouse.wheelDelta * 0.03);\n    game.renderer.zoomToPoint(mouse.position, camera.scale);\n  });\n\n  camera.recover = function () {\n    game.renderer.clear(camera.scale);\n    game.renderer.context.translate(-camera.position.x, -camera.position.y);\n    game.renderer.context.scale(1 / camera.scale, 1 / camera.scale);\n    camera.scale = 1;\n    camera.offset = { x: 0, y: 0 };\n    camera.position = { x: 0, y: 0 };\n  };\n  return camera;\n}\n\nCamera.lookAt = function ()  {\n}\n\nCamera.follow = function ()  {\n}\n\nfunction addPos (posA, posB) {\n  return {\n    x: posA.x + posB.x,\n    y: posA.y + posB.y \n  }\n}\n\nfunction subPos (posA, posB) {\n  return {\n    x: posA.x - posB.x,\n    y: posA.y - posB.y \n  }\n}\n\n// function trackTransforms(context){\n//   let svg = document.createElementNS(\"http://www.w3.org/2000/svg\",'svg');\n//   let xform = svg.createSVGMatrix();\n\n//   let pt  = svg.createSVGPoint();\n//   context.transformedPoint = function(x,y){\n//     pt.x=x; pt.y=y;\n//     return pt.matrixTransform(xform.inverse());\n//   }\n// }\n\nexport default Camera\n","const STARTING_FPS = 60;\n\nlet Time = {\n  timeScale: 0,\n  unscaledDeltaTime: 0,\n  deltaTime: 0\n};\n\nTime.reset = () => {\n  Time.timeStart = 0;\n  Time.timePassed = 0;\n  Time.fps = STARTING_FPS;\n}\n\nTime.update = (timeStamp) => {\n  if (Time.timeStart === 0) {\n    Time.timeStart = timeStamp;\n    Time.fps = STARTING_FPS;\n  } else {\n    Time.fps = 1000 / (timeStamp - Time.timeStart);\n  }\n\n  Time.unscaledDeltaTime = 1 / Time.fps;\n  Time.deltaTime = Time.unscaledDeltaTime * Time.timeScale;\n\n  Time.timePassed += Time.unscaledDeltaTime;\n  Time.timeStart = timeStamp;\n}\n\nTime.reset();\n\nexport default Time\n","let Mouse = {};\n\nMouse.create = (element) => {\n  let mouse = {};\n\n  mouse.element = element;\n  mouse.absolute = { x: 0, y: 0 };\n  mouse.position = { x: 0, y: 0 };\n  mouse.mousedownPosition = { x: 0, y: 0 };\n  mouse.mouseupPosition = { x: 0, y: 0 };\n  mouse.offset = { x: 0, y: 0 };\n  mouse.scale = { x: 1, y: 1 };\n  mouse.wheelDelta = 0;\n  mouse.button = -1;\n  mouse.pixelRatio = parseInt(mouse.element.getAttribute('data-pixel-ratio'), 10) || 1;\n\n  mouse.sourceEvents = {\n    mousemove: null,\n    mouseout: null,\n    mousedown: null,\n    mouseup: null,\n    mousewheel: null\n  };\n\n  mouse.eventHooks = {\n    mousemove: null,\n    mouseout: null,\n    mousedown: null,\n    mouseup: null,\n    mousewheel: null\n  }\n\n  mouse.on = function (eventName, callback) {\n    mouse.eventHooks[eventName] = callback;\n  }\n\n  mouse.triggerHook = function (eventName) {\n    mouse.eventHooks[eventName].call(null, mouse);\n  }\n\n  mouse.mousemove = function (event) {\n    let position = Mouse._getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),\n      touches = event.changedTouches;\n\n    if (touches) {\n      mouse.button = 0;\n      event.preventDefault();\n    }\n\n    mouse.absolute.x = position.x;\n    mouse.absolute.y = position.y;\n    mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n    mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n    mouse.sourceEvents.mousemove = event;\n\n    mouse.triggerHook('mousemove');\n  }\n\n  mouse.mouseout = function () {\n    mouse.triggerHook('mouseout');\n  }\n\n  mouse.mousedown = function(event) {\n    let position = Mouse._getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),\n      touches = event.changedTouches;\n\n    if (touches) {\n      mouse.button = 0;\n      event.preventDefault();\n    } else {\n      mouse.button = event.button;\n    }\n\n    mouse.absolute.x = position.x;\n    mouse.absolute.y = position.y;\n    mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n    mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n    mouse.mousedownPosition.x = mouse.position.x;\n    mouse.mousedownPosition.y = mouse.position.y;\n    mouse.sourceEvents.mousedown = event;\n\n    mouse.triggerHook('mousedown');\n  };\n\n  mouse.mouseup = function(event) {\n    let position = Mouse._getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),\n      touches = event.changedTouches;\n\n    if (touches) {\n      event.preventDefault();\n    }\n    \n    mouse.button = -1;\n    mouse.absolute.x = position.x;\n    mouse.absolute.y = position.y;\n    mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n    mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n    mouse.mouseupPosition.x = mouse.position.x;\n    mouse.mouseupPosition.y = mouse.position.y;\n    mouse.sourceEvents.mouseup = event;\n\n    mouse.triggerHook('mouseup');\n  };\n\n  mouse.mousewheel = function(event) {\n    mouse.wheelDelta = Math.max(-1, Math.min(1, event.wheelDelta || -event.detail));\n    event.preventDefault();\n\n    mouse.triggerHook('mousewheel');\n  };\n\n  Mouse.setElement(mouse, element);\n\n  return mouse;\n};\n\nMouse.setElement = (mouse, element) => {\n  element.addEventListener('mousemove', mouse.mousemove);\n  element.addEventListener('mouseout', mouse.mouseout);\n  element.addEventListener('mousedown', mouse.mousedown);\n  element.addEventListener('mouseup', mouse.mouseup);\n  \n  element.addEventListener('mousewheel', mouse.mousewheel);\n  element.addEventListener('DOMMouseScroll', mouse.mousewheel);\n\n  element.addEventListener('touchmove', mouse.mousemove);\n  element.addEventListener('touchstart', mouse.mousedown);\n  element.addEventListener('touchend', mouse.mouseup);\n};\n\n/**\n * Sets the mouse position offset.\n * @method setOffset\n * @param {mouse} mouse\n * @param {vector} offset\n */\nMouse.setOffset = function(mouse, offset) {\n  mouse.offset.x = offset.x;\n  mouse.offset.y = offset.y;\n  mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n  mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n};\n\n/**\n * Sets the mouse position scale.\n * @method setScale\n * @param {mouse} mouse\n * @param {vector} scale\n */\nMouse.setScale = function(mouse, scale) {\n  mouse.scale.x = scale.x;\n  mouse.scale.y = scale.y;\n  mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n  mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n};\n\n/**\n * Gets the mouse position relative to an element given a screen pixel ratio.\n * @method _getRelativeMousePosition\n * @private\n * @param {} event\n * @param {} element\n * @param {number} pixelRatio\n * @return {}\n */\nMouse._getRelativeMousePosition = function(event, element, pixelRatio) {\n  let elementBounds = element.getBoundingClientRect(),\n    rootNode = (document.documentElement || document.body.parentNode || document.body),\n    scrollX = (window.pageXOffset !== undefined) ? window.pageXOffset : rootNode.scrollLeft,\n    scrollY = (window.pageYOffset !== undefined) ? window.pageYOffset : rootNode.scrollTop,\n    touches = event.changedTouches,\n    x, y;\n  \n  if (touches) {\n    x = touches[0].pageX - elementBounds.left - scrollX;\n    y = touches[0].pageY - elementBounds.top - scrollY;\n  } else {\n    x = event.pageX - elementBounds.left - scrollX;\n    y = event.pageY - elementBounds.top - scrollY;\n  }\n\n  return { \n    x: x / (element.clientWidth / (element.width || element.clientWidth) * pixelRatio),\n    y: y / (element.clientHeight / (element.height || element.clientHeight) * pixelRatio)\n  };\n};\n\nexport default Mouse\n","export function extend (obj, deep) {\n  var argsStart,\n    deepClone;\n\n  if (typeof deep === 'boolean') {\n    argsStart = 2;\n    deepClone = deep;\n  } else {\n    argsStart = 1;\n    deepClone = true;\n  }\n\n  for (var i = argsStart; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    if (source) {\n      for (var prop in source) {\n        if (deepClone && source[prop] && source[prop].constructor === Object) {\n          if (!obj[prop] || obj[prop].constructor === Object) {\n            obj[prop] = obj[prop] || {};\n            extend(obj[prop], deepClone, source[prop]);\n          } else {\n            obj[prop] = source[prop];\n          }\n        } else {\n          obj[prop] = source[prop];\n        }\n      }\n    }\n  }\n  \n  return obj;\n}\n\nexport function clone (obj, deep) {\n  return extend({}, deep, obj);\n}\n\nexport function keys (obj) {\n  if (Object.keys)\n    return Object.keys(obj);\n\n  // avoid hasOwnProperty for performance\n  var keys = [];\n  for (var key in obj)\n    keys.push(key);\n  return keys;\n}\n\nexport function isArray (obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\n\nexport function isFunction (obj) {\n  return typeof obj === 'function';\n}\n","import { keys, clone } from '../utils/Common';\n\nlet Events = {};\n\nEvents.create = function (game) {\n  this.game = game;\n  game.events = {};\n}\n\nEvents.on = function (eventNames, callback) {\n  let names = eventNames.split(' '),\n    name;\n\n  for (let i = 0; i < names.length; i++) {\n    name = names[i];\n    this.game.events[name] = this.game.events[name] || [];\n    this.game.events[name].push(callback);\n  }\n\n  return callback;\n}\n\nEvents.off = function(eventNames, callback) {\n  if (!eventNames) {\n    object.events = {};\n    return;\n  }\n\n  // handle Events.off(callback)\n  if (typeof eventNames === 'function') {\n    callback = eventNames;\n    eventNames = keys(this.game.events).join(' ');\n  }\n\n  let names = eventNames.split(' ');\n\n  for (let i = 0; i < names.length; i++) {\n    let callbacks = this.game.events[names[i]],\n      newCallbacks = [];\n\n    if (callback && callbacks) {\n      for (let j = 0; j < callbacks.length; j++) {\n        if (callbacks[j] !== callback)\n          newCallbacks.push(callbacks[j]);\n      }\n    }\n\n    this.game.events[names[i]] = newCallbacks;\n  }\n};\n\nEvents.trigger = function(eventNames, event) {\n  let names,\n    name,\n    callbacks,\n    eventClone;\n\n  let events = this.game.events;\n\n  if (events && keys(events).length > 0) {\n    if (!event)\n      event = {};\n\n    names = eventNames.split(' ');\n\n    for (let i = 0; i < names.length; i++) {\n      name = names[i];\n      callbacks = events[name];\n\n      if (callbacks) {\n        eventClone = clone(event, false);\n        eventClone.name = name;\n        eventClone.source = this.game;\n\n        for (let j = 0; j < callbacks.length; j++) {\n          callbacks[j].apply(this.game, [eventClone]);\n        }\n      }\n    }\n  }\n};\n\nexport default Events;\n","import Events from '../core/Events';\n\nlet Scene = {};\n\nScene.create = (game) => {\n  let scene = {};\n\n  scene.objects = [];\n\n  scene.addObject = (object) => {\n    scene.objects.push(object);\n\n    Events.trigger('addObject', object);\n  }\n\n  scene.reset = () => {\n    scene.objects.forEach((object) => {\n      object.reset();\n    })\n  }\n\n  scene.update = () => {\n    scene.objects.forEach((object) => {\n      if (game.status === 'playing') {\n        object.updateCb.call(object);\n      }\n    })\n  }\n\n  return scene\n}\n\nexport default Scene\n","class Line {\n  constructor (opts) {\n    opts = opts || {};\n    this.transform = {\n      position: {}\n    };\n    this.close = !!opts.close;\n    this.style = this.style || 'solid';\n    this.fill = opts.fill || '#83cbff';\n    this.strokeWidth = opts.strokeWidth || 0;\n    this.stroke = opts.stroke || 'grey';\n  }\n\n  move (dx, dy) {\n  }\n}\n\nexport default Line;","import Line from './Line';\n\nclass Arc extends Line {\n  constructor (opts) {\n    super(opts);\n    this.type = 'arc';\n  }\n\n  move (dx, dy) {\n  }\n}\n\nexport default Arc;","let SAT = {};\n\nSAT.detectCollide = (shapeA, shapeB) => {\n  return !SAT.separationOnAxes(shapeA, shapeB);\n}\n\nSAT.separationOnAxes = (shapeA, shapeB) => {\n  let axes = shapeA.getAxes().concat(shapeB.getAxes());\n\n  for (let i = 0; i < axes.length; i++) {\n    let axis = axes[i];\n    let projection1 = shapeA.project(axis);\n    let projection2 = shapeB.project(axis);\n    if (!projection1.overlaps(projection2)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default SAT\n","import SAT from '../collision/SAT';\n\nclass Shape {\n  constructor (opts) {\n    opts = opts || {};\n    this.transform = {\n      position: {}\n    };\n    this.fill = opts.fill || '#83cbff';\n    this.stroke = opts.stroke || 'grey';\n    this.strokeWidth = opts.strokeWidth || 0;\n  }\n\n  collidesWith (otherShape) {\n    return SAT.detectCollide(this, otherShape);\n  }\n\n  getAxes () {\n    throw 'getAxes() not implemented';\n  }\n\n  project () {\n    throw 'project(axis) not implemented';\n  }\n\n  move () {\n    throw 'move(dx, dy) note implemented';\n  }\n}\n\nexport default Shape\n","import Shape from './Shape';\n\nclass Cirlce extends Shape {\n  constructor (radius, opts) {\n    super(opts);\n    this.type = 'circle';\n    this.radius = radius;\n  }\n\n  getAxes () {\n  }\n\n  project (axis) {\n  }\n\n  addPoint (x, y) {\n  }\n\n  move (dx, dy) {\n  }\n}\n\nexport default Cirlce;","import Line from './Line';\n\nclass Curve extends Line {\n  constructor (opts) {\n    super(opts);\n    this.type = 'curve';\n  }\n\n  move (dx, dy) {\n  }\n}\n\nexport default Curve;","class Projection {\n  constructor (min, max) {\n    if (min > max) {\n      throw 'min value should less than max value';\n    }\n    this.min = min;\n    this.max = max;\n  }\n\n  overlaps (projection) {\n    // return this.max > projection.min && projection.max > this.min;\n  }\n}\n\nexport default Projection\n","class Vector {\n  constructor (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  magnitude () {\n    return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));\n  }\n\n  add (vector) {\n    let v = new Vector();\n    v.x = this.x + vector.x;\n    v.y = this.y + vector.y;\n    return v;\n  }\n\n  /**\n   * Subtracts another vector.\n   * @method sub\n   * @param {vector} vector\n   * @return {vector} A new vector of two vector subtracted\n   */\n  sub (vector) {\n    let v = new Vector();\n    v.x = this.x - vector.x;\n    v.y = this.y - vector.y;\n    return v;\n  }\n\n  dot (vector) {\n    return this.x * vector.x + this.y * vector.y;\n  }\n\n  edge (vector) {\n    return this.sub(vector);\n  }\n\n  /**\n   * Returns the perpendicular vector. Set `negate` to true for the perpendicular in the opposite direction.\n   * @method perp\n   * @param {vector} vector\n   * @param {bool} [negate=false]\n   * @return {vector} The perpendicular vector\n   */\n  perp (negate) {\n    negate = negate === true ? -1 : 1;\n    let v = new Vector();\n    v.x = negate * -this.y;\n    v.y = negate * this.x;\n    return v;\n  }\n\n  normalize () {\n    let v = new Vector(0, 0), m = this.magnitude();\n\n    if (m !== 0) {\n      v.x = this.x / m;\n      v.y = this.y / m;\n    }\n    return v;\n  }\n\n  normal () {\n    let p = this.perp();\n    return p.normalize();\n  }\n}\n\nexport default Vector","class Vertice {\n  constructor (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n}\n\nexport default Vertice\n","export function getValue (object, key) {\n  let keysArray = key.split('.');\n  let value = object;\n\n  for (let i = 0, len = keysArray.length; i < len; i++) {\n    value = value[keysArray[i]];\n    if (value === undefined) {\n      console.error(`can't find object value ${key}`);\n      return;\n    }\n  }\n  \n  return value;\n}\n\n\n","import { getValue } from '../utils/Object';\n\n/**\n * Finds maximum value in array (not necessarily \"first\" one)\n * @memberOf fabric.util.array\n * @param {Array} array Array to iterate over\n * @param {String} byProperty\n * @return {*}\n */\nexport function max(array, byProperty) {\n  return find(array, byProperty, function(value1, value2) {\n    return value1 >= value2;\n  });\n}\n\n/**\n * Finds minimum value in array (not necessarily \"first\" one)\n * @memberOf fabric.util.array\n * @param {Array} array Array to iterate over\n * @param {String} byProperty\n * @return {*}\n */\nexport function min(array, byProperty) {\n  return find(array, byProperty, function(value1, value2) {\n    return value1 < value2;\n  });\n}\n\nexport function find(array, byProperty, condition) {\n  if (!array || array.length === 0) {\n    return;\n  }\n\n  var i = array.length - 1,\n      result = byProperty ? getValue(array[i], byProperty) : array[i];\n  if (byProperty) {\n    while (i--) {\n      if (condition(getValue(array[i], byProperty), result)) {\n        result = getValue(array[i], byProperty);\n      }\n    }\n  }\n  else {\n    while (i--) {\n      if (condition(array[i], result)) {\n        result = array[i];\n      }\n    }\n  }\n  return result;\n}\n","import Projection from '../geometry/Projection';\nimport Shape from './Shape';\nimport Vector from '../geometry/Vector';\nimport Vertice from '../geometry/Vertice';\nimport { min, max } from '../utils/Array';\n\nclass Polygon extends Shape {\n  constructor (points, opts) {\n    super(opts);\n    this.type = 'polygon';\n    this.vertices = points.map(point => new Vertice(point[0], point[1]));\n    this.dimensions = this.calcDimensions();\n  }\n\n  getAxes () {\n    const { x: posX, y: posY } = this.transform.position;\n\n    let v1 = new Vector(),\n      v2 = new Vector(),\n      axes = [],\n      pointNum = this.vertices.length;\n\n  \n    for (let i = 0; i < pointNum - 1; i++) {\n      v1.x = this.vertices[i].x + posX;\n      v1.y = this.vertices[i].y + posY;\n\n      v2.x = this.vertices[i + 1].x + posX;\n      v2.y = this.vertices[i + 1].y + posY;\n\n      axes.push(v1.edge(v2).normal());\n    }\n\n    v1.x = this.vertices[pointNum - 1].x + posX;\n    v1.y = this.vertices[pointNum - 1].y + posY;\n\n    v2.x = this.vertices[0].x + posX;\n    v2.y = this.vertices[0].y + posY;\n    \n    axes.push(v1.edge(v2).normal());\n\n    return axes;\n  }\n\n  project (axis) {\n    const { x: posX, y: posY } = this.transform.position;\n\n    let scalars = [],\n      v = new Vector();\n\n    this.vertices.forEach(point => {\n      v.x = point.x + posX;\n      v.y = point.y + posY;\n      scalars.push(v.dot(axis));\n    })\n\n    return new Projection(Math.min.apply(Math, scalars), Math.max.apply(Math, scalars));\n  }\n\n  addPoint (x, y) {\n    this.vertices.push(new Vertice(x, y));\n  }\n\n  calcDimensions () {\n    let vertices = this.vertices,\n      minX = min(vertices, 'x') || 0,\n      minY = min(vertices, 'y') || 0,\n      maxX = max(vertices, 'x') || 0,\n      maxY = max(vertices, 'y') || 0,\n      width = (maxX - minX),\n      height = (maxY - minY);\n\n    return {\n      left: minX,\n      top: minY,\n      width: width,\n      height: height\n    };\n  }\n\n  move (dx, dy) {\n    for (let i = 0, point; i < this.vertices.length; i++) {\n      point = this.vertices[i];\n      point.x += dx;\n      point.y += dy;\n    }\n  }\n}\n\nexport default Polygon;\n","import Line from './Line';\nimport Vertice from '../geometry/Vertice';\n\nclass Polyline extends Line {\n  constructor (points, opts) {\n    super(opts);\n    this.type = 'polyline';\n    this.vertices = points.map(point => new Vertice(point[0], point[1]));\n  }\n\n  move (dx, dy) {\n  }\n}\n\nexport default Polyline;","import Shape from './Shape';\n\nclass Rectangle extends Shape {\n  constructor (opts) {\n    super(opts);\n    this.type = 'rectangle';\n    this.width = opts.width || 0;\n    this.height = opts.height || 0;\n    this.rx = opts.rx || 0;\n    this.ry = opts.ry || 0;\n    this.dimensions = this.calcDimensions();\n  }\n\n  getAxes () {\n  }\n\n  project (axis) {\n    // console.log(axis);\n  }\n\n  addPoint (x, y) {\n    console.log(x, y);\n  }\n\n  calcDimensions () {\n    return {\n      left: 0,\n      top: 0,\n      width: this.width,\n      height: this.height\n    };\n  }\n\n  move (dx, dy) {\n    console.log(dx, dy);\n  }\n}\n\nexport default Rectangle;","import Shape from './Shape';\n\nclass Sprite extends Shape {\n  constructor (opts) {\n    super(opts);\n    this.type = 'sprite';\n  }\n\n  getAxes () {\n  }\n\n  project (axis) {\n  }\n\n  addPoint (x, y) {\n  }\n\n  move (dx, dy) {\n  }\n}\n\nexport default Sprite;","import Shape from './Shape';\n\nclass Text extends Shape {\n  constructor (text, opts) {\n    super(opts);\n    this.type = 'text';\n    this.text = text;\n    this.font = '18px verdana';\n    this.fill = '#333';\n    this.dimensions = this.calcDimensions();\n  }\n\n  getAxes () {\n  }\n\n  project (axis) {\n  }\n\n  addPoint (x, y) {\n  }\n\n  calcDimensions () {\n    return {\n      left: 0,\n      top: 0,\n      width: 100,\n      height: 20\n    };\n  }\n\n  move (dx, dy) {\n  }\n}\n\nexport default Text;","import { min, max } from '../utils/Array';\n\nexport default class ShapesGroup {\n  constructor (shapes) {\n    this.shapes = shapes;\n    this.dimensions = this.calcDimensions();\n  }\n\n  calcDimensions () {\n    let shapes = this.shapes,\n      minX = min(shapes, 'dimensions.left') || 0,\n      minY = min(shapes, 'dimensions.top') || 0,\n      maxX = max(shapes, 'dimensions.left') || 0,\n      maxY = max(shapes, 'dimensions.top') || 0,\n      width = max(shapes, 'dimensions.width'),\n      height = max(shapes, 'dimensions.height');\n\n    return {\n      left: minX,\n      top: minY,\n      width: width,\n      height: height\n    };\n  }\n\n  collidesWith (otherShape) {\n    // return SAT.detectCollide(this, otherShape);\n  }\n\n  getAxes () {\n    throw 'getAxes() not implemented';\n  }\n\n  project () {\n    throw 'project(axis) not implemented';\n  }\n\n  move () {\n    throw 'move(dx, dy) note implemented';\n  }\n}\n","import { isArray, isFunction } from '../utils/Common';\nimport { ShapesGroup } from '../shapes';\n\nexport default class Object {\n  constructor (opts) {\n    this.shape = opts.shape;\n    if (isArray(this.shape)) {\n      this.shape = new ShapesGroup(this.shape);\n    }\n    this.fill = opts.fill !== undefined ? opts.fill : '#83cbff';\n    this.startCb = isFunction(opts.start) ? opts.start : this.start;\n    this.updateCb = isFunction(opts.update) ? opts.update : this.update;\n    this.transform0 = {\n      scaleX: opts.transform.scaleX,\n      skewX: opts.transform.skewX,\n      skewY: opts.transform.skewY,\n      scaleY: opts.transform.scaleY,\n      position: {\n        x: opts.transform.position.x,\n        y: opts.transform.position.y\n      },\n    }\n\n    this.reset();\n  }\n\n  start () {\n  }\n\n  update () {\n  }\n\n  reset () {\n    this.shape.transform = this.transform = JSON.parse(JSON.stringify(this.transform0));\n  }\n}\n","export default class CanvasShapeRenderer {\n  constructor (context) {\n    this.context = context;\n  }\n\n  render (shape) {\n    const { context } = this;\n\n    switch (shape.type) {\n      case 'polygon':\n        _pathPolygon(context, shape);\n        break;\n      case 'polyline':\n        _pathPolyline(context, shape);\n        break;\n      case 'rectangle':\n        _pathRectangle(context, shape);\n        break;\n      case 'circle':\n        _pathCircle(context, shape);\n        break;\n      case 'text':\n        _pathText(context, shape);\n        break;\n      default:\n        break;\n    }\n\n    _setStrokeStyles(context, shape);\n    _setFillStyles(context, shape);\n    _renderStroke(context, shape);\n    _renderFill(context, shape);\n  }\n}\n\nfunction _setStrokeStyles (context, shape) {\n  if (shape.stroke) {\n    context.lineWidth = shape.strokeWidth;\n    context.lineCap = shape.strokeLineCap;\n    context.lineDashOffset = shape.strokeDashOffset;\n    context.lineJoin = shape.strokeLineJoin;\n    context.miterLimit = shape.strokeMiterLimit;\n    context.strokeStyle = shape.stroke;\n  }\n}\n\nfunction _setFillStyles (context, shape) {\n  if (shape.fill) {\n    context.fillStyle = shape.fill;\n  }\n}\n\nfunction _renderStroke (context, shape) {\n  if (!shape.stroke || shape.strokeWidth === 0) {\n    return;\n  }\n  // _setLineDash(this.context, this.strokeDashArray, this._renderDashedStroke);\n  context.save();\n  context.stroke();\n  context.restore();\n}\n\nfunction _renderFill (context) {\n  context.save();\n  context.fill();\n  context.restore();\n}\n\nfunction _pathPolygon(context, shape) {\n  let points = shape.vertices;\n  let len = points.length;\n\n  if (!len || len === 0 || isNaN(points[len - 1].y)) {\n    return false;\n  }\n\n  context.beginPath();\n  context.moveTo(points[0].x, points[0].y);\n  for (let i = 0; i < len; i++) {\n    point = points[i];\n    context.lineTo(point.x, point.y);\n  }\n  context.closePath();\n};\n\nfunction _pathPolyline(context, shape) {\n  context.beginPath();\n  context.closePath();\n};\n\nfunction _pathRectangle(context, shape) {\n  let rx = shape.rx ? Math.min(shape.rx, shape.width / 2) : 0,\n    ry = shape.ry ? Math.min(shape.ry, shape.height / 2) : 0,\n    w = shape.width,\n    h = shape.height,\n    isRounded = rx !== 0 || ry !== 0,\n    /* \"magic number\" for bezier approximations of arcs (http://itc.ktu.lt/itc354/Riskus354.pdf) */\n    k = 1 - 0.5522847498;\n\n  context.beginPath();\n  context.moveTo(rx, 0);\n\n  context.lineTo(w - rx, 0);\n  isRounded && context.bezierCurveTo(w - k * rx, 0, w, k * ry, w, ry);\n\n  context.lineTo(w, h - ry);\n  isRounded && context.bezierCurveTo(w, h - k * ry, w - k * rx, h, w - rx, h);\n\n  context.lineTo(rx, h);\n  isRounded && context.bezierCurveTo(k * rx, h, 0, h - k * ry, 0, h - ry);\n\n  context.lineTo(0, ry);\n  isRounded && context.bezierCurveTo(0, k * ry, k * rx, 0, rx, 0);\n\n  context.closePath();\n};\n\nfunction _pathCircle(context, shape) {\n  context.beginPath();\n  context.arc(0, 0, shape.radius, 0, 2 * Math.PI);\n  context.closePath();\n};\n\nfunction _pathText(context, shape) {\n  context.beginPath();\n  context.closePath();\n};\n\n","import Events from '../core/Events';\nimport Point from '../geometry/Vertice';\nimport CanvasShapeRenderer from './CanvasShapeRenderer';\nimport { ShapesGroup } from '../shapes';\n\nconst iMatrix = [1, 0, 0, 1, 0, 0];\n\nexport default class CanvasRenderer {\n  constructor (opts) {\n    const { width = 300, height = 300, bgColor = 'aliceblue' } = opts;\n\n    this.canvas = _createCanvas();\n    this.context = this.canvas.getContext('2d');\n    this.viewportTransform = iMatrix;\n    this.shapeRenderer = new CanvasShapeRenderer(this.context);\n\n    this.pixelRatio = _getPixelRatio(this.canvas);\n    this.canvas.setAttribute('data-pixel-ratio', this.pixelRatios);\n    this.context.scale(this.pixelRatio, this.pixelRatio);\n\n    this.canvas.width = width * this.pixelRatio;\n    this.canvas.height = height * this.pixelRatio;\n    this.canvas.style.width = width + 'px';\n    this.canvas.style.height = height + 'px';\n    this.canvas.style.backgroundColor = bgColor;\n  }\n\n  get width () {\n    return this.canvas.width;\n  }\n\n  get height () {\n    return this.canvas.height;\n  }\n\n  getZoom () {\n    return this.viewportTransform[0];\n  }\n\n  setViewportTransform (vpt) {\n    this.viewportTransform = vpt;\n  }\n\n  resetTransform () {\n    this.setViewportTransform(iMatrix);\n  }\n\n  zoomToPoint (point, value) {\n    var before = point, vpt = this.viewportTransform.slice(0);\n    point = _transformPoint(point, _invertTransform(this.viewportTransform));\n    vpt[0] = value;\n    vpt[3] = value;\n    var after = _transformPoint(point, vpt);\n    vpt[4] += before.x - after.x;\n    vpt[5] += before.y - after.y;\n\n    this.setViewportTransform(vpt);\n  }\n\n  translate (offset) {\n    this.clear();\n    this.context.translate(offset.x, offset.y);\n  }\n\n  render (objects) {\n    const { context, pixelRatio } = this;\n    let vpt = this.viewportTransform;\n    context.save();\n    context.transform(\n      vpt[0] * pixelRatio,\n      vpt[1],\n      vpt[2],\n      vpt[3] * pixelRatio,\n      vpt[4],\n      vpt[5]\n    );\n    _renderObjects.call(this, this.context, objects);\n    context.restore();\n    Events.trigger('rendered', this.context);\n  }\n\n  clear () {\n    this.context.clearRect(0, 0, this.width, this.height);\n  }\n}\n\nfunction _createCanvas () {\n  let canvas = document.createElement('canvas');\n  canvas.getPixelRatio = _getPixelRatio.bind(null, canvas);\n  return canvas;\n}\n\n/**\n * Gets the pixel ratio of the canvas.\n */\nfunction _getPixelRatio (canvas) {\n  var context = canvas.getContext('2d'),\n    devicePixelRatio = window.devicePixelRatio || 1,\n    backingStorePixelRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio ||\n    context.msBackingStorePixelRatio ||\n    context.oBackingStorePixelRatio ||\n    context.backingStorePixelRatio || 1;\n\n  return devicePixelRatio / backingStorePixelRatio;\n}\n\n/**\n * Render several types of graphics in canvas\n */\nfunction _renderObjects (context, objects) {\n  objects = objects || [];\n\n  objects.forEach(object => {\n    const transform = object.transform;\n    const { scaleX = 1, skewX = 0, skewY = 0, scaleY = 1} = transform;\n    const { x: posX, y: posY } = transform.position;\n\n    context.save();\n    context.transform(scaleX, skewX, skewY, scaleY, posX, posY);\n\n    if (object.shape instanceof ShapesGroup) {\n      object.shape.shapes.forEach(shape => {\n        _renderShape.call(this, shape);\n      })\n    } else {\n      _renderShape.call(this, object.shape);\n    }\n\n    context.restore();\n  })\n}\n\nfunction _renderShape (shape) {\n  this.shapeRenderer.render(shape);\n}\n\nfunction _transformPoint (p, t, ignoreOffset) {\n  if (ignoreOffset) {\n    return new Point(\n      t[0] * p.x + t[2] * p.y,\n      t[1] * p.x + t[3] * p.y\n    );\n  }\n  return new Point(\n    t[0] * p.x + t[2] * p.y + t[4],\n    t[1] * p.x + t[3] * p.y + t[5]\n  );\n}\n\nfunction _invertTransform (t) {\n  var a = 1 / (t[0] * t[3] - t[1] * t[2]),\n    r = [a * t[3], -a * t[1], -a * t[2], a * t[0]],\n    o = _transformPoint({ x: t[4], y: t[5] }, r, true);\n  r[4] = -o.x;\n  r[5] = -o.y;\n  return r;\n}\n","import CanvasRenderer from './CanvasRenderer';\n\nlet Renderer = {};\n\nRenderer.create = (el, opts) => {\n  let renderer = new CanvasRenderer(opts);\n\n  el.append(renderer.canvas);\n\n  return renderer;\n}\n\nexport default Renderer;\n","import Camera from './Camera';\nimport Time from './Time';\nimport Mouse from './Mouse';\nimport Scene from './Scene';\nimport Events from './Events';\nimport { Renderer, CanvasRenderer } from '../renderer';\n\nlet _reqFrame, _cancelFrame, _frameTimeout;\nif (typeof window !== 'undefined') {\n  _reqFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame || function (callback) {\n    var self = this, start, finish;\n\n    _frameTimeout = window.setTimeout(function () {\n      start = +new Date();\n      callback(start);\n      finish = +new Date();\n      self.timeout = 1000 / 60 - (finish - start);\n    }, self.timeout);\n  };\n\n  _cancelFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame || function () {\n    window.clearTimeout(_frameTimeout);\n  };\n}\n\nlet Engine = {};\n\nEngine.create = (el, opts) => {\n  let game = {};\n  game.el = el;\n  game.status = 'stop';\n  game.PAUSE_TIMEOUT = 100;\n\n  Events.create(game);\n\n  game.renderer = Renderer.create(\n    el,\n    opts\n  );\n\n  game.view = game.renderer.canvas;\n\n  game.mouse = Mouse.create(game.view);\n\n  game.camera = Camera.create(game);\n\n  game.scene = Scene.create(game);\n\n  game.start = () => {\n    Time.timeScale = 1;\n    Engine.run(game);\n    game.status = 'playing';\n  }\n\n  game.restart = () => {\n    Engine.reset(game);\n    game.start();\n  }\n\n  game.pause = () => {\n    if (game.status === 'playing') {\n      Time.timeScale = 0;\n      game.status = 'paused';\n    }\n  }\n\n  game.resume = () => {\n    if (game.status === 'paused') {\n      Time.timeScale = 1;\n      game.status = 'playing';\n    }\n  }\n\n  game.stop = () => {\n    Engine.reset(game);\n    game.status = 'stop';\n  }\n\n  Engine.reset(game);\n\n  Events.on('addObject', (object) => {\n    game.renderer.render([object]);\n  })\n\n  return game;\n}\n\nEngine.reset = (game) => {\n  _cancelFrame(game.frameReq);\n  Time.reset();\n  game.frameReq = null;\n  game.scene.reset();\n  game.renderer.clear();\n  game.renderer.render(game.scene.objects);\n}\n\nEngine.run = (game) => {\n  if (game.frameReq) {\n    game.stop();\n  }\n\n  game.frameReq = _reqFrame((timeStamp) => tick.call(null, timeStamp));\n\n  function tick (timeStamp) {\n    Events.trigger('tick', timeStamp);\n    Time.update(timeStamp); // update Time\n    game.scene.update();\n    game.renderer.clear();\n    game.renderer.render(game.scene.objects);\n    game.frameReq = _reqFrame((timeStamp) => tick.call(null, timeStamp));\n  }\n}\n\nexport default Engine\n","let Input = {\n  keyCodeArray: []\n};\n\nInput.create = () => {\n  document.onkeydown = (event) => {\n    const { keyCode } = event;\n    let idx = Input.keyCodeArray.indexOf(keyCode);\n\n    if (idx === -1) {\n      Input.keyCodeArray.push(keyCode);\n    }\n  }\n\n  document.onkeyup = (event) => {\n    const { keyCode } = event;\n    let idx = Input.keyCodeArray.indexOf(keyCode);\n    if (idx > -1) {\n      Input.keyCodeArray.splice(idx, 1);\n    }\n  }\n}\n\nInput.getAxis = (direction) => {\n  if (direction === 'horizontal') {\n    if (Input.keyCodeArray.indexOf(37) > -1) {\n      return -1\n    }\n    if (Input.keyCodeArray.indexOf(39) > -1) {\n      return 1\n    }\n    return 0\n  }\n\n  if (direction === 'vertical') {\n    if (Input.keyCodeArray.indexOf(38) > -1) {\n      return -1\n    }\n    if (Input.keyCodeArray.indexOf(40) > -1) {\n      return 1\n    }\n    return 0\n  }\n}\n\nInput.create();\n\n// class Input {\n//   constructor () {\n//     this.keyCodeArray = [];\n\n//     document.onkeydown = (event) => {\n//       const { keyCode } = event;\n//       let idx = this.keyCodeArray.indexOf(keyCode);\n\n//       if (idx === -1) {\n//         this.keyCodeArray.push(keyCode);\n//       }\n//     }\n\n//     document.onkeyup = (event) => {\n//       const { keyCode } = event;\n//       let idx = this.keyCodeArray.indexOf(keyCode);\n//       if (idx > -1) {\n//         this.keyCodeArray.splice(idx, 1);\n//       }\n//     }\n//   }\n\n//   getAxis (direction) {\n    \n//   }\n// }\n\nexport default Input\n","export function insertAfter (el, targetEl) {\n  let parent = targetEl.parentNode;\n  if ( parent.lastChild === targetEl ){\n    parent.appendChild(el);\n  } else {\n    parent.insertBefore(el, targetEl.nextSibling);\n  }\n}\n","import Time from '../core/Time';\nimport Events from '../core/Events';\nimport CanvasRenderer from '../renderer/CanvasRenderer';\nimport { insertAfter } from '../utils/Dom';\n\nlet Performance = {};\n\nPerformance.create = function (game, opts) {\n  let performance = {};\n  let view = game.view.getBoundingClientRect();\n\n  opts = opts || {};\n  performance.el = document.createElement('div');\n  performance.el.className = 'performance-widget';\n  performance.el.style.position = 'absolute';\n  performance.el.style.top = view.top + 'px';\n  performance.el.style.left = view.left + 'px';\n  performance.el.style.backgroundColor = 'rgba(0, 0, 0, 0.3)';\n  performance.el.style.padding = '4px 10px';\n\n  _addFPS(performance);\n  insertAfter(performance.el, game.view);\n\n  Events.on('tick', function () {\n    Performance.update(performance);\n  })\n\n  game.widget = game.widget || {};\n  game.widget['performance'] = Performance;\n}\n\nPerformance.update = function (performance) {\n  performance.fpsEl.innerText = Time.fps.toFixed(2);\n}\n\nfunction _addFPS (performance) {\n  performance.fpsEl = document.createElement('div');\n  performance.el.append(performance.fpsEl);\n  performance.fpsEl.style.color = 'white';\n}\n\nexport default Performance;\n","/*global ENV*/\nimport Engine from './core/Engine';\nimport Input from './core/Input';\nimport Time from './core/Time';\nimport Object from './core/Object';\nimport {\n  Polygon,\n  Polyline,\n  Circle,\n  Rectangle,\n  Text\n} from './shapes';\nimport Performance from './widget/Performance';\n\n// Enable LiveReload\nif (ENV !== 'production') {\n  document.write(\n    '<script src=\"http://' + (location.host || 'localhost').split(':')[0] +\n    ':35729/livereload.js?snipver=1\"></' + 'script>'\n  )\n}\n\nconst myGame = Engine.create(document.getElementById('stage'), {\n  width: 600,\n  height: 300\n});\nPerformance.create(myGame);\nconst startBtn = document.getElementById('start');\nconst stopBtn = document.getElementById('stop');\nconst pauseBtn = document.getElementById('pause');\nconst fastBtn = document.getElementById('fastward');\nconst recoverBtn = document.getElementById('recover');\n\nlet polygon = new Object({\n  shape: new Polygon([\n    [0, 0],\n    [60, 0],\n    [60, 20],\n    [30, 40],\n    [10, 40]\n  ], {\n    fill: '#009688'\n  }),\n  transform: {\n    position: {\n      x: 230,\n      y: 150\n    }\n  },\n  start: function () {\n  },\n  update: function () {\n    // let { transform } = this;\n\n    // const horizontalInput = Input.getAxis('horizontal');\n    // const verticalInput = Input.getAxis('vertical');\n    // const speed = 100;\n\n    // transform.position.x += speed * Time.deltaTime * horizontalInput;\n    // transform.position.y += speed * Time.deltaTime * verticalInput;\n\n    // if (this.shape.collidesWith(rectangle.shape)) {\n    //   console.log('collide!!');\n    // }\n  }\n});\n\nlet circle = new Object({\n  shape: new Circle(20, {\n    fill: '#ffc107'\n  }),\n  transform: {\n    position: {\n      x: 100,\n      y: 50\n    }\n  },\n  start: function () {\n  },\n  update: function () {\n    // let { transform } = this;\n\n    // const speed = 100;\n    // transform.position.x += speed * Time.deltaTime;\n  }\n});\n\nlet title = new Object({\n  shape: new Text('Engine Test'),\n  transform: {\n    position: {\n      x: 200,\n      y: 50\n    }\n  },\n  start: function () {\n  },\n  update: function () {\n  }\n});\n\nlet polyline = new Object({\n  shape: new Polyline([\n    [0, 0],\n    [60, 0],\n    [60, 20],\n    [30, 40],\n    [10, 40]\n  ], {\n    style: 'dashed'\n  }),\n  transform: {\n    position: {\n      x: 320,\n      y: 150\n    }\n  },\n  start: function () {\n  },\n  update: function () {\n  }\n});\n\nlet player = new Object({\n  shape: [\n    new Rectangle({\n      width: 120,\n      height: 40,\n      rx: 2,\n      ry: 2,\n      fill: 'white',\n      stroke: 'grey',\n      strokeWidth: 2\n    }),\n    new Polygon([\n      [60, 0],\n      [60, 20],\n      [30, 40],\n      [10, 40]\n    ], {\n      fill: '#009688'\n    }),\n    new Text('这是一个方块', {\n      lineHeight: 10,\n      lineWidth: 100,\n      fontFamily: 'Avenir'\n    })\n  ],\n  transform: {\n    position: {\n      x: 360,\n      y: 40\n    }\n  },\n  start: function () {\n  },\n  update: function () {\n    let { transform } = this;\n\n    const horizontalInput = Input.getAxis('horizontal');\n    const verticalInput = Input.getAxis('vertical');\n    const speed = 100;\n\n    transform.position.x += speed * Time.deltaTime * horizontalInput;\n    transform.position.y += speed * Time.deltaTime * verticalInput;\n  }\n});\n\nmyGame.scene.addObject(polygon);\nmyGame.scene.addObject(polyline);\nmyGame.scene.addObject(circle);\nmyGame.scene.addObject(title);\nmyGame.scene.addObject(player);\n\nmyGame.start();\n\nstartBtn.addEventListener('click', () => {\n  myGame.restart();\n})\n\nstopBtn.addEventListener('click', () => {\n  myGame.stop();\n})\n\npauseBtn.addEventListener('click', () => {\n  if (myGame.status === 'paused') {\n    myGame.resume();\n  } else {\n    myGame.pause();\n  }\n})\n\nfastBtn.addEventListener('click', () => {\n  myGame.Time.timeScale = 1.5;\n})\n\nrecoverBtn.addEventListener('click', () => {\n  myGame.camera.recover();\n})\n\nconsole.log('myGame', myGame);\n"],"names":["Camera","create","game","camera","position","x","y","offset","scale","lookAt","isDragging","lastMousePosition","mouse","on","subPos","addPos","renderer","translate","mousedownPosition","wheelDelta","zoomToPoint","recover","clear","context","follow","posA","posB","STARTING_FPS","Time","timeScale","unscaledDeltaTime","deltaTime","reset","timeStart","timePassed","fps","update","timeStamp","Mouse","element","absolute","mouseupPosition","button","pixelRatio","parseInt","getAttribute","sourceEvents","mousemove","mouseout","mousedown","mouseup","mousewheel","eventHooks","eventName","callback","triggerHook","call","event","_getRelativeMousePosition","touches","changedTouches","preventDefault","Math","max","min","detail","setElement","addEventListener","setOffset","setScale","elementBounds","getBoundingClientRect","rootNode","document","documentElement","body","parentNode","scrollX","window","pageXOffset","undefined","scrollLeft","scrollY","pageYOffset","scrollTop","pageX","left","pageY","top","clientWidth","width","clientHeight","height","extend","obj","deep","argsStart","deepClone","i","arguments","length","source","prop","constructor","Object","clone","keys","key","push","isArray","prototype","toString","isFunction","Events","events","eventNames","names","split","name","off","object","join","callbacks","newCallbacks","j","trigger","eventClone","apply","Scene","scene","objects","addObject","forEach","status","updateCb","Line","opts","transform","close","style","fill","strokeWidth","stroke","dx","dy","Arc","type","SAT","detectCollide","shapeA","shapeB","separationOnAxes","axes","getAxes","concat","axis","projection1","project","projection2","overlaps","Shape","otherShape","Cirlce","radius","Curve","Projection","projection","Vector","sqrt","pow","vector","v","sub","negate","m","magnitude","p","perp","normalize","Vertice","getValue","keysArray","value","len","console","error","array","byProperty","find","value1","value2","condition","result","Polygon","points","vertices","map","point","dimensions","calcDimensions","posX","posY","v1","v2","pointNum","edge","normal","scalars","dot","minX","minY","maxX","maxY","Polyline","Rectangle","rx","ry","log","Sprite","Text","text","font","ShapesGroup","shapes","shape","startCb","start","transform0","scaleX","skewX","skewY","scaleY","JSON","parse","stringify","CanvasShapeRenderer","_pathPolygon","_pathPolyline","_pathRectangle","_pathCircle","_pathText","_setStrokeStyles","_setFillStyles","_renderStroke","_renderFill","lineWidth","lineCap","strokeLineCap","lineDashOffset","strokeDashOffset","lineJoin","strokeLineJoin","miterLimit","strokeMiterLimit","strokeStyle","fillStyle","save","restore","isNaN","beginPath","moveTo","lineTo","closePath","w","h","isRounded","k","bezierCurveTo","arc","PI","iMatrix","CanvasRenderer","bgColor","canvas","_createCanvas","getContext","viewportTransform","shapeRenderer","_getPixelRatio","setAttribute","pixelRatios","backgroundColor","vpt","setViewportTransform","before","slice","_transformPoint","_invertTransform","after","_renderObjects","clearRect","createElement","getPixelRatio","bind","devicePixelRatio","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","_renderShape","render","t","ignoreOffset","Point","a","r","o","Renderer","el","append","_reqFrame","_cancelFrame","_frameTimeout","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","self","finish","setTimeout","Date","timeout","cancelAnimationFrame","mozCancelAnimationFrame","clearTimeout","Engine","PAUSE_TIMEOUT","view","run","restart","pause","resume","stop","frameReq","tick","Input","keyCodeArray","onkeydown","keyCode","idx","indexOf","onkeyup","splice","getAxis","direction","insertAfter","targetEl","parent","lastChild","appendChild","insertBefore","nextSibling","Performance","performance","className","padding","_addFPS","widget","fpsEl","innerText","toFixed","color","write","location","host","myGame","getElementById","startBtn","stopBtn","pauseBtn","fastBtn","recoverBtn","polygon","circle","Circle","title","polyline","player","lineHeight","fontFamily","horizontalInput","verticalInput","speed"],"mappings":"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"}