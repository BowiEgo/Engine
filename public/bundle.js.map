{"version":3,"file":"bundle.js","sources":["../src/core/Camera.js","../src/core/Time.js","../src/core/Mouse.js","../src/core/Scene.js","../src/utils/Common.js","../src/core/Events.js","../src/core/Render.js","../src/core/Engine.js","../src/core/Object.js","../src/core/Input.js","../src/geometry/Vertices.js","../src/geometry/Projection.js","../src/collision/SAT.js","../src/shape/Shape.js","../src/geometry/Vector.js","../src/shape/Polygon.js","../src/shape/Circle.js","../src/shape/Rectangle.js","../src/shape/Text.js","../src/line/Line.js","../src/line/Polyline.js","../src/utils/Dom.js","../src/widget/Performance.js","../src/main.js"],"sourcesContent":["let Camera = {};\n\nCamera.create = function (game) {\n  let camera = {};\n  camera.position = { x: 0, y: 0 };\n  camera.offset = { x: 0, y: 0 };\n  camera.scale = 1;\n  camera.lookAt = null;\n\n  let isDragging = false;\n  let lastMousePosition = { x: 0, y: 0 };\n\n  trackTransforms(game.render.context);\n\n  game.mouse.on('mousemove', mouse => {\n    if (isDragging) {\n      camera.offset = subPos(mouse.position, lastMousePosition);\n      camera.position = addPos(camera.position, camera.offset);\n      lastMousePosition.x = mouse.position.x;\n      lastMousePosition.y = mouse.position.y;\n      game.render.clear(camera.scale);\n      game.render.context.translate(camera.offset.x / camera.scale, camera.offset.y / camera.scale);\n    }\n  });\n\n  game.mouse.on('mouseout', mouse => {\n    isDragging = false;\n  });\n\n  game.mouse.on('mousedown', mouse => {\n    isDragging = true;\n    lastMousePosition.x = mouse.mousedownPosition.x;\n    lastMousePosition.y = mouse.mousedownPosition.y;\n  });\n\n  game.mouse.on('mouseup', mouse => {\n    camera.offset = { x: 0, y: 0 };\n    isDragging = false;\n  });\n\n  game.mouse.on('mousewheel', mouse => {\n    var pt = game.render.context.transformedPoint(mouse.position.x, mouse.position.y);\n    let deltaScale = 1 + mouse.wheelDelta * 0.02;\n    camera.scale *= deltaScale;\n    game.render.clear(camera.scale);\n    game.render.context.translate(pt.x, pt.y);\n    game.render.context.scale(deltaScale, deltaScale);\n    game.render.context.translate(-pt.x, -pt.y);\n  });\n\n  camera.recover = function () {\n    game.render.clear(camera.scale);\n    game.render.context.translate(-camera.position.x, -camera.position.y);\n    game.render.context.scale(1 / camera.scale, 1 / camera.scale);\n    camera.scale = 1;\n    camera.offset = { x: 0, y: 0 };\n    camera.position = { x: 0, y: 0 };\n  };\n  return camera;\n}\n\nCamera.lookAt = function ()  {\n}\n\nCamera.follow = function ()  {\n}\n\nfunction addPos (posA, posB) {\n  return {\n    x: posA.x + posB.x,\n    y: posA.y + posB.y \n  }\n}\n\nfunction subPos (posA, posB) {\n  return {\n    x: posA.x - posB.x,\n    y: posA.y - posB.y \n  }\n}\n\nfunction trackTransforms(context){\n  let svg = document.createElementNS(\"http://www.w3.org/2000/svg\",'svg');\n  let xform = svg.createSVGMatrix();\n\n  let pt  = svg.createSVGPoint();\n  context.transformedPoint = function(x,y){\n    pt.x=x; pt.y=y;\n    return pt.matrixTransform(xform.inverse());\n  }\n}\n\nexport default Camera\n","const STARTING_FPS = 60;\n\nlet Time = {\n  timeScale: 0,\n  unscaledDeltaTime: 0,\n  deltaTime: 0\n};\n\nTime.reset = () => {\n  Time.timeStart = 0;\n  Time.timePassed = 0;\n  Time.fps = STARTING_FPS;\n}\n\nTime.update = (timeStamp) => {\n  if (Time.timeStart === 0) {\n    Time.timeStart = timeStamp;\n    Time.fps = STARTING_FPS;\n  } else {\n    Time.fps = 1000 / (timeStamp - Time.timeStart);\n  }\n\n  Time.unscaledDeltaTime = 1 / Time.fps;\n  Time.deltaTime = Time.unscaledDeltaTime * Time.timeScale;\n\n  Time.timePassed += Time.unscaledDeltaTime;\n  Time.timeStart = timeStamp;\n}\n\nTime.reset();\n\nexport default Time\n","let Mouse = {};\n\nMouse.create = (element) => {\n  let mouse = {};\n\n  mouse.element = element;\n  mouse.absolute = { x: 0, y: 0 };\n  mouse.position = { x: 0, y: 0 };\n  mouse.mousedownPosition = { x: 0, y: 0 };\n  mouse.mouseupPosition = { x: 0, y: 0 };\n  mouse.offset = { x: 0, y: 0 };\n  mouse.scale = { x: 1, y: 1 };\n  mouse.wheelDelta = 0;\n  mouse.button = -1;\n  mouse.pixelRatio = parseInt(mouse.element.getAttribute('data-pixel-ratio'), 10) || 1;\n\n  mouse.sourceEvents = {\n    mousemove: null,\n    mouseout: null,\n    mousedown: null,\n    mouseup: null,\n    mousewheel: null\n  };\n\n  mouse.eventHooks = {\n    mousemove: null,\n    mouseout: null,\n    mousedown: null,\n    mouseup: null,\n    mousewheel: null\n  }\n\n  mouse.on = function (eventName, callback) {\n    mouse.eventHooks[eventName] = callback;\n  }\n\n  mouse.triggerHook = function (eventName) {\n    mouse.eventHooks[eventName].call(null, mouse);\n  }\n\n  mouse.mousemove = function (event) {\n    let position = Mouse._getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),\n      touches = event.changedTouches;\n\n    if (touches) {\n      mouse.button = 0;\n      event.preventDefault();\n    }\n\n    mouse.absolute.x = position.x;\n    mouse.absolute.y = position.y;\n    mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n    mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n    mouse.sourceEvents.mousemove = event;\n\n    mouse.triggerHook('mousemove');\n  }\n\n  mouse.mouseout = function () {\n    mouse.triggerHook('mouseout');\n  }\n\n  mouse.mousedown = function(event) {\n    let position = Mouse._getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),\n      touches = event.changedTouches;\n\n    if (touches) {\n      mouse.button = 0;\n      event.preventDefault();\n    } else {\n      mouse.button = event.button;\n    }\n\n    mouse.absolute.x = position.x;\n    mouse.absolute.y = position.y;\n    mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n    mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n    mouse.mousedownPosition.x = mouse.position.x;\n    mouse.mousedownPosition.y = mouse.position.y;\n    mouse.sourceEvents.mousedown = event;\n\n    mouse.triggerHook('mousedown');\n  };\n\n  mouse.mouseup = function(event) {\n    let position = Mouse._getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),\n      touches = event.changedTouches;\n\n    if (touches) {\n      event.preventDefault();\n    }\n    \n    mouse.button = -1;\n    mouse.absolute.x = position.x;\n    mouse.absolute.y = position.y;\n    mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n    mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n    mouse.mouseupPosition.x = mouse.position.x;\n    mouse.mouseupPosition.y = mouse.position.y;\n    mouse.sourceEvents.mouseup = event;\n\n    mouse.triggerHook('mouseup');\n  };\n\n  mouse.mousewheel = function(event) {\n    mouse.wheelDelta = Math.max(-1, Math.min(1, event.wheelDelta || -event.detail));\n    event.preventDefault();\n\n    mouse.triggerHook('mousewheel');\n  };\n\n  Mouse.setElement(mouse, element);\n\n  return mouse;\n};\n\nMouse.setElement = (mouse, element) => {\n  element.addEventListener('mousemove', mouse.mousemove);\n  element.addEventListener('mouseout', mouse.mouseout);\n  element.addEventListener('mousedown', mouse.mousedown);\n  element.addEventListener('mouseup', mouse.mouseup);\n  \n  element.addEventListener('mousewheel', mouse.mousewheel);\n  element.addEventListener('DOMMouseScroll', mouse.mousewheel);\n\n  element.addEventListener('touchmove', mouse.mousemove);\n  element.addEventListener('touchstart', mouse.mousedown);\n  element.addEventListener('touchend', mouse.mouseup);\n};\n\n/**\n * Sets the mouse position offset.\n * @method setOffset\n * @param {mouse} mouse\n * @param {vector} offset\n */\nMouse.setOffset = function(mouse, offset) {\n  mouse.offset.x = offset.x;\n  mouse.offset.y = offset.y;\n  mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n  mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n};\n\n/**\n * Sets the mouse position scale.\n * @method setScale\n * @param {mouse} mouse\n * @param {vector} scale\n */\nMouse.setScale = function(mouse, scale) {\n  mouse.scale.x = scale.x;\n  mouse.scale.y = scale.y;\n  mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n  mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n};\n\n/**\n * Gets the mouse position relative to an element given a screen pixel ratio.\n * @method _getRelativeMousePosition\n * @private\n * @param {} event\n * @param {} element\n * @param {number} pixelRatio\n * @return {}\n */\nMouse._getRelativeMousePosition = function(event, element, pixelRatio) {\n  let elementBounds = element.getBoundingClientRect(),\n    rootNode = (document.documentElement || document.body.parentNode || document.body),\n    scrollX = (window.pageXOffset !== undefined) ? window.pageXOffset : rootNode.scrollLeft,\n    scrollY = (window.pageYOffset !== undefined) ? window.pageYOffset : rootNode.scrollTop,\n    touches = event.changedTouches,\n    x, y;\n  \n  if (touches) {\n    x = touches[0].pageX - elementBounds.left - scrollX;\n    y = touches[0].pageY - elementBounds.top - scrollY;\n  } else {\n    x = event.pageX - elementBounds.left - scrollX;\n    y = event.pageY - elementBounds.top - scrollY;\n  }\n\n  return { \n    x: x / (element.clientWidth / (element.width || element.clientWidth) * pixelRatio),\n    y: y / (element.clientHeight / (element.height || element.clientHeight) * pixelRatio)\n  };\n};\n\nexport default Mouse\n","let Scene = {};\n\nScene.create = (game) => {\n  let scene = {};\n\n  scene.game = game;\n  scene.objectArray = [];\n\n  scene.addObject = (object) => {\n    scene.objectArray.push(object);\n  }\n\n  scene.reset = () => {\n    scene.objectArray.forEach((object) => {\n      object.reset();\n    })\n  }\n\n  scene.update = () => {\n    scene.objectArray.forEach((object) => {\n      if (game.status === 'playing') {\n        object.updateCb.call(object);\n      }\n    })\n  }\n\n  return scene\n}\n\nexport default Scene\n","export function extend (obj, deep) {\n  var argsStart,\n    deepClone;\n\n  if (typeof deep === 'boolean') {\n    argsStart = 2;\n    deepClone = deep;\n  } else {\n    argsStart = 1;\n    deepClone = true;\n  }\n\n  for (var i = argsStart; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    if (source) {\n      for (var prop in source) {\n        if (deepClone && source[prop] && source[prop].constructor === Object) {\n          if (!obj[prop] || obj[prop].constructor === Object) {\n            obj[prop] = obj[prop] || {};\n            extend(obj[prop], deepClone, source[prop]);\n          } else {\n            obj[prop] = source[prop];\n          }\n        } else {\n          obj[prop] = source[prop];\n        }\n      }\n    }\n  }\n  \n  return obj;\n}\n\nexport function clone (obj, deep) {\n  return extend({}, deep, obj);\n}\n\nexport function keys (obj) {\n  if (Object.keys)\n    return Object.keys(obj);\n\n  // avoid hasOwnProperty for performance\n  var keys = [];\n  for (var key in obj)\n    keys.push(key);\n  return keys;\n}\n\nexport function isArray (obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\n\nexport function isFunction (obj) {\n  return typeof obj === 'function';\n}\n","import { keys, clone } from '../utils/Common';\n\nlet Events = {};\n\nEvents.on = function (object, eventNames, callback) {\n  let names = eventNames.split(' '),\n    name;\n\n  for (let i = 0; i < names.length; i++) {\n    name = names[i];\n    object.events = object.events || {};\n    object.events[name] = object.events[name] || [];\n    object.events[name].push(callback);\n  }\n\n  return callback;\n}\n\nEvents.off = function(object, eventNames, callback) {\n  if (!eventNames) {\n    object.events = {};\n    return;\n  }\n\n  // handle Events.off(object, callback)\n  if (typeof eventNames === 'function') {\n    callback = eventNames;\n    eventNames = keys(object.events).join(' ');\n  }\n\n  let names = eventNames.split(' ');\n\n  for (let i = 0; i < names.length; i++) {\n    let callbacks = object.events[names[i]],\n      newCallbacks = [];\n\n    if (callback && callbacks) {\n      for (let j = 0; j < callbacks.length; j++) {\n        if (callbacks[j] !== callback)\n          newCallbacks.push(callbacks[j]);\n      }\n    }\n\n    object.events[names[i]] = newCallbacks;\n  }\n};\n\nEvents.trigger = function(object, eventNames, event) {\n  let names,\n    name,\n    callbacks,\n    eventClone;\n\n  let events = object.events;\n  \n  if (events && keys(events).length > 0) {\n    if (!event)\n      event = {};\n\n    names = eventNames.split(' ');\n\n    for (let i = 0; i < names.length; i++) {\n      name = names[i];\n      callbacks = events[name];\n\n      if (callbacks) {\n        eventClone = clone(event, false);\n        eventClone.name = name;\n        eventClone.source = object;\n\n        for (let j = 0; j < callbacks.length; j++) {\n          callbacks[j].apply(object, [eventClone]);\n        }\n      }\n    }\n  }\n};\n\nexport default Events;\n","import Events from './Events';\n\nlet Render = {};\n\nRender.create = (game, el, opts) => {\n  let render = {\n    el: el,\n    game: game\n  };\n\n  const { width = 300, height = 300, bgColor = 'aliceblue' } = opts;\n\n  render.width = width;\n  render.height = height;\n  render.canvas = document.createElement('canvas');\n\n  let pixelRatio = opts.pixelRatio || _getPixelRatio(render.canvas);\n  render.canvas.setAttribute('data-pixel-ratio', pixelRatio);\n\n  render.canvas.width = width * pixelRatio;\n  render.canvas.height = height * pixelRatio;\n  render.canvas.style.width = width + 'px';\n  render.canvas.style.height = height + 'px';\n  render.canvas.style.backgroundColor = bgColor;\n  render.el.append(render.canvas);\n\n  render.context = render.canvas.getContext('2d');\n  render.context.scale(pixelRatio, pixelRatio);\n\n  render.clear = () => {\n    const { camera } = render.game;\n\n    render.context.clearRect(-camera.position.x, -camera.position.y, render.canvas.width, render.canvas.height);\n  }\n\n  render.render = () => {\n    const { objectArray } = render.game.scene;\n\n    objectArray.forEach(object => {\n      const shapeType = object.shape.type;\n\n      switch (shapeType) {\n        case 'polygon':\n          renderPolygon(render.context, object.shape);\n          break;\n        case 'rectangle':\n          renderRectangle(render.context, object.shape);\n          break;\n        case 'circle':\n          renderCircle(render.context, object.shape);\n          break;\n        case 'text':\n          renderText(render.context, object.shape);\n          break;\n        case 'polyline':\n          renderPolyline(render.context, object.shape);\n        default:\n          break;\n      }\n    })\n\n    Events.trigger(render.game, 'tick');\n  }\n\n  return render\n}\n\n/**\n * Gets the pixel ratio of the canvas.\n * @method _getPixelRatio\n * @private\n * @param {HTMLElement} canvas\n * @return {Number} pixel ratio\n */\nfunction _getPixelRatio (canvas) {\n  var context = canvas.getContext('2d'),\n    devicePixelRatio = window.devicePixelRatio || 1,\n    backingStorePixelRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio ||\n    context.msBackingStorePixelRatio ||\n    context.oBackingStorePixelRatio ||\n    context.backingStorePixelRatio || 1;\n\n  return devicePixelRatio / backingStorePixelRatio;\n}\n\nfunction renderPolygon (context, shape) {\n  const { x: posX, y: posY } = shape.transform.position;\n\n  context.beginPath();\n  context.moveTo(shape.vertices[0].x + posX, shape.vertices[0].y + posY);\n  for (let i = 1; i < shape.vertices.length; i++) {\n    context.lineTo(shape.vertices[i].x + posX, shape.vertices[i].y + posY);\n  }\n  context.closePath();\n\n  draw(context, shape);\n}\n\nfunction renderRectangle (context, shape) {\n  const { x: posX, y: posY } = shape.transform.position;\n\n  context.beginPath();\n  context.rect(posX, posY, shape.width, shape.height);\n  context.closePath();\n\n  draw(context, shape);\n}\n\nfunction renderCircle (context, shape) {\n  const { x: posX, y: posY } = shape.transform.position;\n\n  context.beginPath();\n  context.arc(posX, posY, shape.radius, 0, Math.PI * 2, false);\n  context.closePath();\n\n  draw(context, shape);\n}\n\nfunction renderText (context, shape) {\n  const { x: posX, y: posY } = shape.transform.position;\n\n  context.font = shape.font;\n  context.fillStyle = shape.fillStyle;\n  context.strokeStyle = shape.strokeStyle;\n  shape.fill && context.fillText(shape.text, posX, posY);\n  shape.strokeWidth > 0 && context.strokeText(shape.text, posX, posY);\n}\n\nfunction renderPolyline (context, shape) {\n  const { x: posX, y: posY } = shape.transform.position;\n\n  context.beginPath();\n  context.moveTo(shape.vertices[0].x + posX, shape.vertices[0].y + posY);\n  for (let i = 1; i < shape.vertices.length; i++) {\n    context.lineTo(shape.vertices[i].x + posX, shape.vertices[i].y + posY);\n  }\n  shape.close && context.closePath();\n\n  drawLine(context, shape);\n}\n\nfunction draw (context, shape) {\n  context.lineWidth = shape.strokeWidth;\n  context.strokeStyle = shape.strokeStyle;\n  context.fillStyle = shape.fillStyle;\n  shape.strokeWidth > 0 && context.stroke();\n  shape.fill && context.fill();\n}\n\nfunction drawLine (context, shape) {\n  context.lineWidth = shape.strokeWidth;\n  context.strokeStyle = shape.strokeStyle;\n  context.stroke();\n}\n\nexport default Render;\n","import Camera from './Camera';\nimport Time from './Time';\nimport Mouse from './Mouse';\nimport Scene from './Scene';\nimport Render from './Render';\n\nlet _reqFrame, _cancelFrame, _frameTimeout;\nif (typeof window !== 'undefined') {\n  _reqFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame || function (callback) {\n    var self = this, start, finish;\n\n    _frameTimeout = window.setTimeout(function () {\n      start = +new Date();\n      callback(start);\n      finish = +new Date();\n      self.timeout = 1000 / 60 - (finish - start);\n    }, self.timeout);\n  };\n\n  _cancelFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame || function () {\n    window.clearTimeout(_frameTimeout);\n  };\n}\n\nlet Engine = {};\n\nEngine.create = (el, opts) => {\n  let game = {};\n  game.el = el;\n  game.status = 'stop';\n  game.PAUSE_TIMEOUT = 100;\n\n  game.render = Render.create(\n    game,\n    el,\n    opts\n  );\n\n  game.mouse = Mouse.create(game.render.canvas);\n\n  game.camera = Camera.create(game);\n\n  game.scene = Scene.create(game);\n\n  game.start = () => {\n    Time.timeScale = 1;\n    Engine.run(game);\n    game.status = 'playing';\n  }\n\n  game.restart = () => {\n    Engine.reset(game);\n    game.start();\n  }\n\n  game.pause = () => {\n    if (game.status === 'playing') {\n      Time.timeScale = 0;\n      game.status = 'paused';\n    }\n  }\n\n  game.resume = () => {\n    if (game.status === 'paused') {\n      Time.timeScale = 1;\n      game.status = 'playing';\n    }\n  }\n\n  game.stop = () => {\n    Engine.reset(game);\n    game.status = 'stop';\n  }\n\n  Engine.reset(game);\n\n  return game;\n}\n\nEngine.reset = (game) => {\n  _cancelFrame(game.frameReq);\n  Time.reset();\n  game.frameReq = null;\n  game.scene.reset();\n  game.render.clear();\n  game.render.render();\n}\n\nEngine.run = (game) => {\n  if (game.frameReq) {\n    game.stop();\n  }\n\n  game.frameReq = _reqFrame((timeStamp) => tick.call(null, timeStamp));\n\n  function tick (timeStamp) {\n    Time.update(timeStamp); // update Time\n    game.scene.update();\n    game.render.clear();\n    game.render.render();\n    game.frameReq = _reqFrame((timeStamp) => tick.call(null, timeStamp));\n  }\n}\n\nexport default Engine\n","import { isFunction } from '../utils/Common';\n\nclass Object {\n  constructor (opts) {\n    this.shape = opts.shape;\n    this.fill = opts.fill !== undefined ? opts.fill : '#83cbff';\n    this.startCb = isFunction(opts.start) ? opts.start : this.start;\n    this.updateCb = isFunction(opts.update) ? opts.update : this.update;\n    this.transform0 = {\n      position: {\n        x: opts.transform.position.x || 0,\n        y: opts.transform.position.y || 0\n      }\n    }\n\n    this.reset();\n  }\n\n  start () {\n  }\n\n  update () {\n  }\n\n  reset () {\n    this.shape.transform = this.transform = JSON.parse(JSON.stringify(this.transform0));\n  }\n\n  render () {\n    const { context } = this.Scene;\n    const { position } = this.transform;\n    const rectW = 40;\n    const rectH = 40;\n\n    context.fillStyle = this.fill;\n    context.fillRect(position.x, position.y, rectW, rectH);\n  }\n}\n\nexport default Object\n","let Input = {\n  keyCodeArray: []\n};\n\nInput.create = () => {\n  document.onkeydown = (event) => {\n    const { keyCode } = event;\n    let idx = Input.keyCodeArray.indexOf(keyCode);\n\n    if (idx === -1) {\n      Input.keyCodeArray.push(keyCode);\n    }\n  }\n\n  document.onkeyup = (event) => {\n    const { keyCode } = event;\n    let idx = Input.keyCodeArray.indexOf(keyCode);\n    if (idx > -1) {\n      Input.keyCodeArray.splice(idx, 1);\n    }\n  }\n}\n\nInput.getAxis = (direction) => {\n  if (direction === 'horizontal') {\n    if (Input.keyCodeArray.indexOf(37) > -1) {\n      return -1\n    }\n    if (Input.keyCodeArray.indexOf(39) > -1) {\n      return 1\n    }\n    return 0\n  }\n\n  if (direction === 'vertical') {\n    if (Input.keyCodeArray.indexOf(38) > -1) {\n      return -1\n    }\n    if (Input.keyCodeArray.indexOf(40) > -1) {\n      return 1\n    }\n    return 0\n  }\n}\n\nInput.create();\n\n// class Input {\n//   constructor () {\n//     this.keyCodeArray = [];\n\n//     document.onkeydown = (event) => {\n//       const { keyCode } = event;\n//       let idx = this.keyCodeArray.indexOf(keyCode);\n\n//       if (idx === -1) {\n//         this.keyCodeArray.push(keyCode);\n//       }\n//     }\n\n//     document.onkeyup = (event) => {\n//       const { keyCode } = event;\n//       let idx = this.keyCodeArray.indexOf(keyCode);\n//       if (idx > -1) {\n//         this.keyCodeArray.splice(idx, 1);\n//       }\n//     }\n//   }\n\n//   getAxis (direction) {\n    \n//   }\n// }\n\nexport default Input\n","class Vertices {\n  constructor (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n}\n\nexport default Vertices\n","class Projection {\n  constructor (min, max) {\n    if (min > max) {\n      throw 'min value should less than max value';\n    }\n    this.min = min;\n    this.max = max;\n  }\n\n  overlaps (projection) {\n    // return this.max > projection.min && projection.max > this.min;\n  }\n}\n\nexport default Projection\n","let SAT = {};\n\nSAT.detectCollide = (shapeA, shapeB) => {\n  return !SAT.separationOnAxes(shapeA, shapeB);\n}\n\nSAT.separationOnAxes = (shapeA, shapeB) => {\n  let axes = shapeA.getAxes().concat(shapeB.getAxes());\n\n  for (let i = 0; i < axes.length; i++) {\n    let axis = axes[i];\n    let projection1 = shapeA.project(axis);\n    let projection2 = shapeB.project(axis);\n    if (!projection1.overlaps(projection2)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default SAT\n","import SAT from '../collision/SAT';\n\nclass Shape {\n  constructor (opts) {\n    opts = opts || {};\n    this.transform = {\n      position: {}\n    };\n    this.fill = opts.fill === undefined ? true : !!opts.fill;\n    this.fillStyle = opts.fillStyle || '#83cbff';\n    this.strokeWidth = opts.strokeWidth || 0;\n    this.strokeStyle = opts.stroke || 'grey';\n  }\n\n  collidesWith (otherShape) {\n    return SAT.detectCollide(this, otherShape);\n  }\n\n  getAxes () {\n    throw 'getAxes() not implemented';\n  }\n\n  project () {\n    throw 'project(axis) not implemented';\n  }\n\n  move () {\n    throw 'move(dx, dy) note implemented';\n  }\n}\n\nexport default Shape\n","class Vector {\n  constructor (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  magnitude () {\n    return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));\n  }\n\n  add (vector) {\n    let v = new Vector();\n    v.x = this.x + vector.x;\n    v.y = this.y + vector.y;\n    return v;\n  }\n\n  /**\n   * Subtracts another vector.\n   * @method sub\n   * @param {vector} vector\n   * @return {vector} A new vector of two vector subtracted\n   */\n  sub (vector) {\n    let v = new Vector();\n    v.x = this.x - vector.x;\n    v.y = this.y - vector.y;\n    return v;\n  }\n\n  dot (vector) {\n    return this.x * vector.x + this.y * vector.y;\n  }\n\n  edge (vector) {\n    return this.sub(vector);\n  }\n\n  /**\n   * Returns the perpendicular vector. Set `negate` to true for the perpendicular in the opposite direction.\n   * @method perp\n   * @param {vector} vector\n   * @param {bool} [negate=false]\n   * @return {vector} The perpendicular vector\n   */\n  perp (negate) {\n    negate = negate === true ? -1 : 1;\n    let v = new Vector();\n    v.x = negate * -this.y;\n    v.y = negate * this.x;\n    return v;\n  }\n\n  normalize () {\n    let v = new Vector(0, 0), m = this.magnitude();\n\n    if (m !== 0) {\n      v.x = this.x / m;\n      v.y = this.y / m;\n    }\n    return v;\n  }\n\n  normal () {\n    let p = this.perp();\n    return p.normalize();\n  }\n}\n\nexport default Vector","import Point from '../geometry/Vertices';\nimport Projection from '../geometry/Projection';\nimport Shape from './Shape';\nimport Vector from '../geometry/Vector';\nimport Vertices from '../geometry/Vertices';\n\nclass Polygon extends Shape {\n  constructor (points, opts) {\n    super(opts);\n    this.type = 'polygon';\n    this.vertices = points.map(point => new Vertices(point[0], point[1]));\n  }\n\n  getAxes () {\n    const { x: posX, y: posY } = this.transform.position;\n\n    let v1 = new Vector(),\n      v2 = new Vector(),\n      axes = [],\n      pointNum = this.vertices.length;\n\n  \n    for (let i = 0; i < pointNum - 1; i++) {\n      v1.x = this.vertices[i].x + posX;\n      v1.y = this.vertices[i].y + posY;\n\n      v2.x = this.vertices[i + 1].x + posX;\n      v2.y = this.vertices[i + 1].y + posY;\n\n      axes.push(v1.edge(v2).normal());\n    }\n\n    v1.x = this.vertices[pointNum - 1].x + posX;\n    v1.y = this.vertices[pointNum - 1].y + posY;\n\n    v2.x = this.vertices[0].x + posX;\n    v2.y = this.vertices[0].y + posY;\n    \n    axes.push(v1.edge(v2).normal());\n\n    return axes;\n  }\n\n  project (axis) {\n    const { x: posX, y: posY } = this.transform.position;\n\n    let scalars = [],\n      v = new Vector();\n\n    this.vertices.forEach(point => {\n      v.x = point.x + posX;\n      v.y = point.y + posY;\n      scalars.push(v.dot(axis));\n    })\n\n    return new Projection(Math.min.apply(Math, scalars), Math.max.apply(Math, scalars));\n  }\n\n  addPoint (x, y) {\n    this.vertices.push(new Point(x, y));\n  }\n\n  move (dx, dy) {\n    for (let i = 0, point; i < this.vertices.length; i++) {\n      point = this.vertices[i];\n      point.x += dx;\n      point.y += dy;\n    }\n  }\n}\n\nexport default Polygon;\n","import Shape from './Shape';\n\nclass Cirlce extends Shape {\n  constructor (radius, opts) {\n    super(opts);\n    this.type = 'circle';\n    this.radius = radius;\n  }\n\n  getAxes () {\n  }\n\n  project (axis) {\n  }\n\n  addPoint (x, y) {\n  }\n\n  move (dx, dy) {\n  }\n}\n\nexport default Cirlce;","import Shape from './Shape';\n\nclass Rectangle extends Shape {\n  constructor (width, height, opts) {\n    super(opts);\n    this.type = 'rectangle';\n    this.width = width;\n    this.height = height;\n  }\n\n  getAxes () {\n  }\n\n  project (axis) {\n  }\n\n  addPoint (x, y) {\n  }\n\n  move (dx, dy) {\n  }\n}\n\nexport default Rectangle;","import Shape from './Shape';\n\nclass Text extends Shape {\n  constructor (text, opts) {\n    super(opts);\n    this.type = 'text';\n    this.text = text;\n    this.font = '18px verdana';\n    this.fillStyle = '#333';\n  }\n\n  getAxes () {\n  }\n\n  project (axis) {\n  }\n\n  addPoint (x, y) {\n  }\n\n  move (dx, dy) {\n  }\n}\n\nexport default Text;","class Line {\n  constructor (opts) {\n    opts = opts || {};\n    this.transform = {\n      position: {}\n    };\n    this.close = !!opts.close;\n    this.style = this.style || 'solid';\n    this.fill = opts.fill === undefined ? true : !!opts.fill;\n    this.fillStyle = opts.fillStyle || '#83cbff';\n    this.strokeWidth = opts.strokeWidth || 0;\n    this.strokeStyle = opts.stroke || 'grey';\n  }\n\n  move (dx, dy) {\n  }\n}\n\nexport default Line;","import Line from './Line';\nimport Vertices from '../geometry/Vertices';\n\nclass Polyline extends Line {\n  constructor (points, opts) {\n    super(opts);\n    this.type = 'polyline';\n    this.vertices = points.map(point => new Vertices(point[0], point[1]));\n  }\n\n  move (dx, dy) {\n  }\n}\n\nexport default Polyline;","export function insertAfter (el, targetEl) {\n  let parent = targetEl.parentNode;\n  if ( parent.lastChild === targetEl ){\n    parent.appendChild(el);\n  } else {\n    parent.insertBefore(el, targetEl.nextSibling);\n  }\n}\n","import Time from '../core/Time';\nimport Events from '../core/Events';\nimport { insertAfter } from '../utils/Dom';\n\nlet Performance = {};\n\nPerformance.create = function (game, opts) {\n  let performance = {};\n  let canvasRect = game.render.canvas.getBoundingClientRect();\n\n  opts = opts || {};\n  performance.el = document.createElement('div');\n  performance.el.className = 'performance-widget';\n  performance.el.style.position = 'absolute';\n  performance.el.style.top = canvasRect.top + 'px';\n  performance.el.style.left = canvasRect.left + 'px';\n  performance.el.style.backgroundColor = 'rgba(0, 0, 0, 0.3)';\n  performance.el.style.padding = '4px 10px';\n\n  _addFPS(performance);\n  insertAfter(performance.el, game.render.canvas);\n\n  Events.on(game, 'tick', function () {\n    Performance.update(game, performance);\n  })\n\n  game.widget = game.widget || {};\n  game.widget['performance'] = Performance;\n}\n\nPerformance.update = function (game, performance) {\n  performance.fpsEl.innerText = Time.fps.toFixed(2);\n}\n\nfunction _addFPS (performance) {\n  performance.fpsEl = document.createElement('div');\n  performance.el.append(performance.fpsEl);\n  performance.fpsEl.style.color = 'white';\n}\n\nexport default Performance;\n","/*global ENV*/\nimport Engine from './core/Engine';\nimport Object from './core/Object';\nimport Input from './core/Input';\nimport Time from './core/Time';\nimport Polygon from './shape/Polygon';\nimport Circle from './shape/Circle';\nimport Rectangle from './shape/Rectangle';\nimport Text from './shape/Text';\nimport Polyline from './line/Polyline';\nimport Performance from './widget/Performance';\n\n// Enable LiveReload\nif (ENV !== 'production') {\n  document.write(\n    '<script src=\"http://' + (location.host || 'localhost').split(':')[0] +\n    ':35729/livereload.js?snipver=1\"></' + 'script>'\n  )\n}\n\nconst myGame = Engine.create(document.getElementById('stage'), {\n  width: 600,\n  height: 300\n});\nPerformance.create(myGame);\nconst startBtn = document.getElementById('start');\nconst stopBtn = document.getElementById('stop');\nconst pauseBtn = document.getElementById('pause');\nconst fastBtn = document.getElementById('fastward');\nconst recoverBtn = document.getElementById('recover');\n\nlet player = new Object({\n  shape: new Polygon([\n    [0, 0],\n    [60, 0],\n    [60, 20],\n    [30, 40],\n    [10, 40]\n  ], {\n    fillStyle: '#009688'\n  }),\n  transform: {\n    position: {\n      x: 230,\n      y: 150\n    }\n  },\n  start: function () {\n  },\n  update: function () {\n    let { transform } = this;\n\n    const horizontalInput = Input.getAxis('horizontal');\n    const verticalInput = Input.getAxis('vertical');\n    const speed = 100;\n\n    transform.position.x += speed * Time.deltaTime * horizontalInput;\n    transform.position.y += speed * Time.deltaTime * verticalInput;\n\n    if (this.shape.collidesWith(obstacle1.shape)) {\n      console.log('collide!!');\n    }\n  }\n});\n\nlet obstacle1 = new Object({\n  shape: new Rectangle(600, 20),\n  transform: {\n    position: {\n      x: 0,\n      y: 270\n    }\n  },\n  start: function () {\n  },\n  update: function () {\n  }\n});\n\nlet obstacle2 = new Object({\n  shape: new Circle(20, {\n    fillStyle: '#ffc107'\n  }),\n  transform: {\n    position: {\n      x: 100,\n      y: 50\n    }\n  },\n  start: function () {\n  },\n  update: function () {\n    // let { transform } = this;\n\n    // const speed = 100;\n    // transform.position.x += speed * Time.deltaTime;\n  }\n});\n\nlet title = new Object({\n  shape: new Text('Engine Test'),\n  transform: {\n    position: {\n      x: 200,\n      y: 50\n    }\n  },\n  start: function () {\n  },\n  update: function () {\n  }\n});\n\nlet polyline = new Object({\n  shape: new Polyline([\n    [0, 0],\n    [60, 0],\n    [60, 20],\n    [30, 40],\n    [10, 40]\n  ], {\n    style: 'dashed'\n  }),\n  transform: {\n    position: {\n      x: 320,\n      y: 150\n    }\n  },\n  start: function () {\n  },\n  update: function () {\n  }\n});\n\nmyGame.scene.addObject(obstacle1);\nmyGame.scene.addObject(obstacle2);\nmyGame.scene.addObject(title);\nmyGame.scene.addObject(polyline);\nmyGame.scene.addObject(player);\n\nmyGame.render.render();\nmyGame.start();\n\nstartBtn.addEventListener('click', () => {\n  myGame.restart();\n})\n\nstopBtn.addEventListener('click', () => {\n  myGame.stop();\n})\n\npauseBtn.addEventListener('click', () => {\n  if (myGame.status === 'paused') {\n    myGame.resume();\n  } else {\n    myGame.pause();\n  }\n})\n\nfastBtn.addEventListener('click', () => {\n  myGame.Time.timeScale = 1.5;\n})\n\nrecoverBtn.addEventListener('click', () => {\n  myGame.camera.recover();\n})\n\nconsole.log('myGame', myGame);\n"],"names":["Camera","create","game","camera","position","x","y","offset","scale","lookAt","isDragging","lastMousePosition","trackTransforms","render","context","mouse","on","subPos","addPos","clear","translate","mousedownPosition","pt","transformedPoint","deltaScale","wheelDelta","recover","follow","posA","posB","svg","document","createElementNS","xform","createSVGMatrix","createSVGPoint","matrixTransform","inverse","STARTING_FPS","Time","timeScale","unscaledDeltaTime","deltaTime","reset","timeStart","timePassed","fps","update","timeStamp","Mouse","element","absolute","mouseupPosition","button","pixelRatio","parseInt","getAttribute","sourceEvents","mousemove","mouseout","mousedown","mouseup","mousewheel","eventHooks","eventName","callback","triggerHook","call","event","_getRelativeMousePosition","touches","changedTouches","preventDefault","Math","max","min","detail","setElement","addEventListener","setOffset","setScale","elementBounds","getBoundingClientRect","rootNode","documentElement","body","parentNode","scrollX","window","pageXOffset","undefined","scrollLeft","scrollY","pageYOffset","scrollTop","pageX","left","pageY","top","clientWidth","width","clientHeight","height","Scene","scene","objectArray","addObject","object","push","forEach","status","updateCb","extend","obj","deep","argsStart","deepClone","i","arguments","length","source","prop","constructor","Object","clone","keys","key","isFunction","Events","eventNames","names","split","name","events","off","join","callbacks","newCallbacks","j","trigger","eventClone","apply","Render","el","opts","bgColor","canvas","createElement","_getPixelRatio","setAttribute","style","backgroundColor","append","getContext","clearRect","shapeType","shape","type","renderPolygon","renderRectangle","renderCircle","renderText","renderPolyline","devicePixelRatio","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","transform","posX","posY","beginPath","moveTo","vertices","lineTo","closePath","draw","rect","arc","radius","PI","font","fillStyle","strokeStyle","fill","fillText","text","strokeWidth","strokeText","close","drawLine","lineWidth","stroke","_reqFrame","_cancelFrame","_frameTimeout","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","self","start","finish","setTimeout","Date","timeout","cancelAnimationFrame","mozCancelAnimationFrame","clearTimeout","Engine","PAUSE_TIMEOUT","run","restart","pause","resume","stop","frameReq","tick","startCb","transform0","JSON","parse","stringify","rectW","rectH","fillRect","Input","keyCodeArray","onkeydown","keyCode","idx","indexOf","onkeyup","splice","getAxis","direction","Vertices","Projection","projection","SAT","detectCollide","shapeA","shapeB","separationOnAxes","axes","getAxes","concat","axis","projection1","project","projection2","overlaps","Shape","otherShape","Vector","sqrt","pow","vector","v","sub","negate","m","magnitude","p","perp","normalize","Polygon","points","map","point","v1","v2","pointNum","edge","normal","scalars","dot","Point","dx","dy","Cirlce","Rectangle","Text","Line","Polyline","insertAfter","targetEl","parent","lastChild","appendChild","insertBefore","nextSibling","Performance","performance","canvasRect","className","padding","_addFPS","widget","fpsEl","innerText","toFixed","color","write","location","host","myGame","getElementById","startBtn","stopBtn","pauseBtn","fastBtn","recoverBtn","player","horizontalInput","verticalInput","speed","collidesWith","obstacle1","console","log","obstacle2","Circle","title","polyline"],"mappings":"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"}